<% layout('layouts/boilerplate') %>

<style>
  body, html {
    padding: 0;
    margin: 0;
    overflow-x: hidden;
  }

  .fullwidth-container {
    width: 100vw;
    margin-left: calc(-50vw + 50%);
  }

  /* Subtle hover effect for cards */
  .card:hover {
    transform: translateY(-3px);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  /* Rounded and responsive images */
  .card-img-top {
    object-fit: cover;
    height: 220px;
    border-radius: 0.5rem 0.5rem 0 0;
  }
</style>

<div class="container-fluid fullwidth-container mt-2 px-0">
  <h2 class="fw-bold text-center mb-5">Explore Listings</h2>

  <div class="row row-cols-xxl-5 row-cols-xl-5 row-cols-lg-4 row-cols-md-2 row-cols-1 g-4 mx-0 px-3 px-md-4">
    <% for (let listing of listings) { %>
      <div class="col d-flex align-items-stretch">
        <a href="/listings/<%= listing._id %>" class="text-decoration-none text-dark w-100">
          <div class="card h-100 shadow-sm border-0">
            <img src="<%= listing.image %>" class="card-img-top" alt="listing_image">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title fw-semibold text-primary mb-2">
                <%= listing.title %>
              </h5>
              <h6 class="card-subtitle text-muted mb-2">
                â‚¹<%= listing.price.toLocaleString("en-IN") %> / night
              </h6>
              <p class="text-secondary small mt-auto">
                <i class="fa fa-map-marker-alt me-1 text-danger"></i>
                <%= listing.location %>, <%= listing.country %>
              </p>
            </div>
          </div>
        </a>
      </div>
    <% } %>
  </div>
</div>
